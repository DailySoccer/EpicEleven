@()

@import model._
@import controllers.admin.routes._

@scripts = {
    <script type="text/javascript">

        function updatePage() {
            $.ajax({
                url: "/admin/is_paused_simulator",
                success: function(result) {
                    if (result == "false") {
                        window.location.reload(true);
                    }
                }
            });
        }

        $(document).ready( function(){
            window.setInterval(updatePage, 10000);

            $('#ajax_table_id').dataTable( {
              "iDisplayLength": 100,
              "bProcessing": true,
              "aaSorting": [[ 0, "asc" ]],
              "bServerSide": true,
              "bJQueryUI": true,
              "sPaginationType": "full_numbers",
              "sAjaxSource": "/admin/template_contests/ajax"
            });
        })

    </script>
}

@main("Template Contests - Admin", scripts) {

<h1 class="page-header">Template Contests</h1>

<a href="@TemplateContestController.newForm"><button class="btn btn-success">Add Contest</button></a>
<a href="@TemplateContestController.createAll"><button class="btn btn-danger">Create All Contests</button></a>

<h2 class="sub-header"></h2>
<div class="table-responsive">
    <table id="ajax_table_id" class="table table-striped">
        <thead>
        <tr>
            <th>State</th>
            <th>Name</th>
            <th>Num. Matches</th>
            <th>Min Instances</th>
            <th>Max Entries</th>
            <th>Salary Cap</th>
            <th>Entry Fee</th>
            <th>Prize Type</th>
            <th>Start Date</th>
            <th>Activation At</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
}