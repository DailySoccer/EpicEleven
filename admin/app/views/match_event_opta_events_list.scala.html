@(opta_events: List[model.opta.OptaEvent], playerInfoMap: HashMap[String, String])

@import model.opta.OptaEventType
@import controllers.admin.routes._
@import model.GlobalDate

@main("Opta Events - Admin") {

<h1 class="page-header">Opta Events</h1>

<h2 class="sub-header"></h2>
<div class="table-responsive">
    <table id="table_id" class="table table-striped">
        <thead>
        <tr>
            <!--th>Id</th-->
            <th>TimeStamp</th>
            <th>Name</th>
            <th>Team</th>
            <th>Type</th>
            <th>TypeId</th>
            <th>Points</th>
            <th>LastModified</th>
        </tr>
        </thead>
        <tbody>
        @for(p <- opta_events) {
        <tr>
            <!--td>p.id</td-->
            <td>@GlobalDate.formatDate(p.timestamp)</td>
            @if(playerInfoMap.containsKey(p.optaPlayerId)) {
            <td>@playerInfoMap(p.optaPlayerId)</td>
            <td>@playerInfoMap(p.optaPlayerId+"-team")</td>
            } else {
            <td>p.optaPlayerId</td>
            <td>???</td>
            }
            <td>@OptaEventType.getEnum(p.typeId).name()</td>
            <td>@p.typeId</td>
            <td>@p.points</td>
            @if(p.lastModified != null) {
            <td>@GlobalDate.formatDate(p.lastModified)</td>
            } else {
            <td></td>
            }
        </tr>
        }
        </tbody>
    </table>
</div>

<a href='@DashboardController.index'>Back to Dashboard</a>

}