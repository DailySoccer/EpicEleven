@(soccers_new: List[model.opta.OptaPlayer], soccers_changed: List[model.opta.OptaPlayer], soccers_invalid: List[model.opta.OptaPlayer])

@import controllers.admin.routes.ImportController

@include_columns() = {
    { "title": "Id" },
    { "title": "Name" },
    { "title": "Position" },
    { "title": "Team ID" },
    { "title": "Team Name" }
}

@include_soccers(soccer_list : List[model.opta.OptaPlayer]) = {
    @for((p, index) <- soccer_list.zipWithIndex) {
        [
            "@p.optaPlayerId",
            "@p.name",
            "@p.position",
            "@p.teamId",
            "@p.teamName"
        ] @if(index < soccer_list.size-1) { , }
    }
}

@scripts = {
    <script type="text/javascript">
        $(document).ready( function(){
            $('#ajax_table_new').dataTable( {
                "columns": [ @include_columns() ],
                "data": [ @include_soccers(soccers_new) ],
                stateSave: true,
                iDisplayLength: 100,
                "deferRender": true
            } );

            $('#ajax_table_changed').dataTable( {
                "columns": [ @include_columns() ],
                "data": [ @include_soccers(soccers_changed) ],
                stateSave: true,
                iDisplayLength: 100,
                "deferRender": true
            } );

            $('#ajax_table_invalid').dataTable( {
                "columns": [ @include_columns() ],
                "data": [ @include_soccers(soccers_invalid) ],
                stateSave: true,
                iDisplayLength: 10,
                "deferRender": true
            } );
        })
    </script>
}

@main("Import Soccers - Admin", scripts) {

<h1 class="page-header">Import Soccers</h1>

<h2 class="sub-header"></h2>

<!--div class="col-md-12">
    @if((soccers_new != null && !soccers_new.isEmpty) || (soccers_changed != null && !soccers_changed.isEmpty)) {
    <a href="@ImportController.importAllSoccers"><button name="ok" type="submit" class="btn btn-success">Import All</button></a>
    }
</div-->

<div class="col-md-6">
    @if(soccers_new != null && !soccers_new.isEmpty) {
    <div><a href="@ImportController.importAllNewSoccers"><button name="ok" type="submit" class="btn btn-success">Import New (@soccers_new.size)</button></a></div>
    <br/>

    <table id="ajax_table_new" class="table table-striped table-responsive">
        <caption class="bg-primary">NEW</caption>
    </table>
    }
</div>

<div class="col-md-6">
    @if(soccers_changed != null && !soccers_changed.isEmpty) {
    <div><a href="@ImportController.importAllChangedSoccers"><button name="ok" type="submit" class="btn btn-success">Import Changed (@soccers_changed.size)</button></a></div>
    <br/>

    <table id="ajax_table_changed" class="table table-striped table-responsive">
        <caption class="bg-info">CHANGED</caption>
    </table>
    }
</div>

<div class="col-md-12">
    @if(soccers_invalid != null && !soccers_invalid.isEmpty) {
    <table id="ajax_table_invalid" class="table table-striped table-responsive">
        <caption class="bg-danger">INVALID</caption>
    </table>
    }
</div>

}